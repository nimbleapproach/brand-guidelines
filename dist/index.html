<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="assets/img/favicon-32x32.png">
  <link rel="stylesheet" href="assets/css/nimble.css">
  <title>Brand Guidelines | Nimble</title>
</head>

<body>
  <div class="col-xl-8 py-5 px-3 mx-auto">
    <header class="mb-5 border-bottom">
      <h1 class="mb-5">
        <img class="rounded icon" src="assets/img/logo-120x120.png" alt="">
        <span class="ms-2">Brand Guidelines</span>
      </h1>
    </header>

    <h2 class="mb-5">Colour</h2>
    <div class="row">

      <div class="palette col-md-6 mb-3">
        <div class="row gx-0" style="height:160px">
          <div class="col d-flex flex-column justify-content-between bg-primary text-white">
            <span class="pt-3 ps-3">Primary</span>
            <span class="pb-3 pe-3 align-self-end">#FF9100</span>
          </div>
          <div class="col d-flex flex-column justify-content-between primary-variant text-white">
            <span class="pt-3 ps-3">Primary<br>Variant</span>
            <span class="pb-3 pe-3 align-self-end">#FF7100</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-secondary">
            <span class="pt-3 ps-3">Secondary</span>
            <span class="pb-3 pe-3 align-self-end">#0DFFD3</span>
          </div>
          <div class="col d-flex flex-column justify-content-between secondary-variant">
            <span class="pt-3 ps-3">Secondary<br>Variant</span>
            <span class="pb-3 pe-3 align-self-end">#12B395</span>
          </div>
        </div>

        <div class="row gx-0 mt-5" style="height:80px">
          <div class="col d-flex flex-column justify-content-between bg-white light">
            <span class="pt-3 ps-3">Background</span>
            <span class="pb-3 pe-3 align-self-end">#FFFFFF</span>
          </div>
          <div class="col d-flex flex-column justify-content-between surface light">
            <span class="pt-3 ps-3">Surface</span>
            <span class="pb-3 pe-3 align-self-end">#F4F4F4</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-dark text-primary dark d-none">
            <span class="pt-3 ps-3">Background</span>
            <span class="pb-3 pe-3 align-self-end">#282B2E</span>
          </div>
          <div class="col d-flex flex-column justify-content-between surface-dark text-white dark d-none">
            <span class="pt-3 ps-3">Surface</span>
            <span class="pb-3 pe-3 align-self-end">#424242</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-danger text-white">
            <span class="pt-3 ps-3">Error</span>
            <span class="pb-3 pe-3 align-self-end">#DC3545</span>
          </div>
        </div>

        <div class="row gx-0 mt-5" style="height:80px">
          <div class="col d-flex flex-column justify-content-between bg-white">
            <span class="pt-3 ps-3">On Primary</span>
            <span class="pb-3 pe-3 align-self-end">#FFFFFF</span>
          </div>
          <div class="col d-flex flex-column justify-content-between on-dark text-white">
            <span class="pt-3 ps-3">On Secondary</span>
            <span class="pb-3 pe-3 align-self-end">#212529</span>
          </div>
        </div>

        <div class="row gx-0" style="height:80px">
          <div class="col d-flex flex-column justify-content-between on-dark text-white border-end border-1 light">
            <span class="pt-3 ps-3">On Background</span>
            <span class="pb-3 pe-3 align-self-end">#212529</span>
          </div>
          <div class="col d-flex flex-column justify-content-between on-dark text-white light">
            <span class="pt-3 ps-3">On Surface</span>
            <span class="pb-3 pe-3 align-self-end">#212529</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-primary text-white dark d-none">
            <span class="pt-3 ps-3">On Background</span>
            <span class="pb-3 pe-3 align-self-end">#FF9100</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-white border-end border-1 dark d-none">
            <span class="pt-3 ps-3">On Surface</span>
            <span class="pb-3 pe-3 align-self-end">#FFFFFF</span>
          </div>
          <div class="col d-flex flex-column justify-content-between bg-white">
            <span class="pt-3 ps-3">On Error</span>
            <span class="pb-3 pe-3 align-self-end">#FFFFFF</span>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="d-flex justify-content-end">
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="switch" checked>
            <label class="form-check-label" for="switch">Dark / Light</label>
          </div>
        </div>

        <div class="d-flex justify-content-end align-items-center h-100">
          <div class="browser w-75">
            <div class="top">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </div>
          
            <div class="body">
              <header class="surface-dark w-100" style="height: 35px">
                <div class="p-2 ms-3 border-bottom border-primary" style="width: 15px"></div>  
              </header>
              <div class="main ms-3 mt-4">
                <div class="text p-2 w-25 border-2 border-bottom"></div>
                <div class="heading p-2 w-75 border-5 border-bottom"></div>
                <div class="heading p-2 w-75 border-5 border-bottom"></div>
                <div class="text p-2 w-50 border-1 border-bottom"></div>
                <div class="text p-2 w-50 border-1 border-bottom"></div>
                <div class="text p-2 w-50 border-1 border-bottom"></div>
                <div class="mt-3 w-25 btn btn-primary"></div>
              </div>
              <footer class="border-top border-primary border-1 mt-5 w-100 bg-dark" style="height: 50px">
                <div class="w-25 p-2 ms-3 border-bottom border-white"></div>  
              </footer>
              <div class="secondary-detail"></div>
            </div>
          </div>
        </div>
      </div>
      <script>
        var light = document.querySelectorAll('.light');
        var dark = document.querySelectorAll('.dark');
        var browser = document.querySelector('.browser');
        document.getElementById('switch').addEventListener('change', (e) => {
          var toggle = (el, add) => {
            if (add) {
              el.classList.add('d-none');
            } else {
              el.classList.remove('d-none');
            }
          }
          light.forEach((el) => toggle(el, !e.target.checked));
          dark.forEach((el) => toggle(el, e.target.checked));
          if (e.target.checked) {
            browser.classList.remove('dark');
          } else {
            browser.classList.add('dark');
          }
        })
      </script>
    </div>

    <hr class="my-5 w-50 mx-0">

    <div class="row gx-0">
      <h2 class="mb-5">Logo</h2>
      <div class="col-sm-6 d-flex justify-content-between align-items-center">
        <div id="logo-light" class="logo p-5">
          <img src="assets/img/logo-dark.svg" alt="nimble logo with dark text">
        </div>
      </div>
      
      <div class="col-sm-6 d-flex justify-content-between align-items-center surface-dark">
        <div id="logo-dark" class="logo p-5">
          <img src="assets/img/logo-light.svg" alt="nimble logo with light text">
        </div>
      </div>
    </div>

    <hr class="my-5 w-50 mx-0">

    <div class="row gx-0">
      <h2 class="mb-5">Imagery</h2>
      <img class="col-md-3" src="assets/img/imagery/d2sf-1--fade-cccb3a4c16413d0c1d0c148f5bcb63d9.jpeg" alt="people sat round a table looking at a pile of open books">
      <img class="col-md-3" src="assets/img/imagery/scrum-board-1-af56ab646e14e33d43b3300fa02441d9.jpeg" alt="person pointing to a wall filled with notes">
      <img class="col-md-3" src="assets/img/imagery/team-review-screen-d2ebb1ffc5de077485584bab45a708bb.jpeg" alt="people sat in a meeting looking at a screen on the wall">
      <img class="col-md-3" src="assets/img/imagery/wireframe-on-board-ecaa3ea533a5bbe91c7f431d7aa7e473.jpeg" alt="person pointing to a wall filled with notes">
      <img class="col-md-3" src="assets/img/imagery/d2sf-3-89b4cd9b0d8ad05cc03db479d9d09c43.jpeg" alt="person working on a laptop computer">
      <img class="col-md-3" src="assets/img/imagery/summer-do-3-4256166bb5793d986167bee2ff6c2e93.jpeg" alt="groups of people outside at a social gathering">
      <img class="col-md-3" src="assets/img/imagery/scrum-team-7bf2c91dc6f9c25f9cbc83d14ad0d160.jpeg" alt="two people writing notes on a whiteboard">
      <img class="col-md-3" src="assets/img/imagery/developer-1f2440d5424b0c942b2e1b26698f0634.jpeg" alt="person working on a computer">
    </div>

    <hr class="my-5 w-50 mx-0">

    <div class="row gx-0">
      <h2 class="mb-0">Illustration</h2>
      <img class="col-md-4 px-5" src="assets/img/illustration/service-illustrations--pop-up-squads-06d629befceee84f692127b6d3701741.svg" alt="illustration of people working together">
      <img class="col-md-4 p-5" src="assets/img/illustration/working-0f7735ff50cacf4e7865511dcba50e28.svg" alt="illustration of a person working on a laptop computer">
      <img class="col-md-4 px-5" src="assets/img/illustration/tasks-a2164a349f10071a558acab5f6f65f96.svg" alt="illustration of two people talking to each other">
    </div>

    <hr class="my-5 w-50 mx-0">

    <div class="row gx-0">
      <h2 class="mb-0">Avatar</h2>
      <div class="col-sm-6 p-5" id="avatar">
        <canvas id="canvas" width="640" height="360" style="width:100%"></canvas>
      </div>

      <div class="col-sm-6 p-5">
        <div class="mb-3">
          <label for="file" class="form-label" style="font-size: 1.5rem">Upload image</label>
          <input id="file" class="form-control" style="padding: .2rem .75rem;" type="file" accept=".jpg, .jpeg, .png">
        </div>
        <div id="controls" class="d-none">
          <div>
            <label for="size" class="form-label" style="font-size: 1.5rem">Size</label>
            <input type="range" class="form-range" id="size" value="0">
          </div>
          <div class="d-flex justify-content-between">
            <fieldset id="filter">
              <legend>Filter</legend>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="filter" id="filter1" value="none" checked>
                <label class="form-check-label" for="filter1">None</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="filter" id="filter2" value="bw">
                <label class="form-check-label" for="filter2">Black and white</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="filter" id="filter3" value="nimble">
                <label class="form-check-label" for="filter3">Nimble</label>
              </div>
            </fieldset>
            <div class="align-self-end">
              <button id="download" type="button" class="btn btn-lg btn-primary rounded-pill mt-3">Download</button>
            </div>
          </div>
        </div>
      </div>

      <script src="assets/js/createjs.min.js" defer></script>
      <script>
        window.onload = () => {
          var stage = new createjs.Stage('canvas');
          var controls = document.getElementById('controls');
          var size = document.getElementById('size');

          createjs.Ticker.addEventListener('tick', () => {
            stage.update();
          });

          var minScale = 1;
          var imageLoad = (e) => {
            size.value = 0;
            var smallest = (e.target.width > e.target.height) ? 'height' : 'width';
            bmp.scale = minScale = stage.canvas.height / e.target[smallest] + (e.path[0].currentSrc.match(/\.svg$/) ? 0 : 0.01);
            bmp.x = (stage.canvas.width - e.target.width * bmp.scale) * .5;
            bmp.y = (stage.canvas.height - e.target.height * bmp.scale) * .5;
            s.x = stage.canvas.width * .5;
            s.y = stage.canvas.height * .5;
            bmp.cache(0, 0, bmp.image.width, bmp.image.height);
            stage.update();
          }

          var bmp = new createjs.Bitmap('assets/img/avatar.svg');
          bmp.image.onload = imageLoad;
          bmp.cursor = 'move';
          stage.addChild(bmp);

          var g = new createjs.Graphics();
          g.setStrokeStyle(4);
          g.beginStroke('#ff9100');
          g.drawCircle(0, 0, (stage.canvas.height - 4) * .5);

          var s = new createjs.Shape(g);
          stage.addChild(s);

          bmp.mask = s;

          document.getElementById('file').addEventListener('change', (e) => {
            controls.classList.remove('d-none');
            var file = e.target.files[0];
            if (file.type && !file.type.startsWith('image/')) {
              console.log('File is not an image.', file.type, file);
              return;
            }

            var reader = new FileReader();
            reader.addEventListener('load', (e) => {
              var img = document.createElement('img');
              img.src = e.target.result;
              bmp.image = img;
              bmp.image.onload = imageLoad;
            });
            reader.readAsDataURL(file);
          });

          document.getElementById('download').addEventListener('click', (e) => {
            var link = document.createElement('a');
            stage.canvas.width = 360;
            bmp.x = bmp.x - 140;
            s.x = 180;
            stage.update();
            link.download = 'avatar.png';
            link.href = stage.canvas.toDataURL();
            link.click();
            stage.canvas.width = 640;
            bmp.x = bmp.x + 140;
            s.x = 320;
            stage.update();
          });

          createjs.Touch.enable(stage);
          stage.enableMouseOver(10);
          stage.mouseMoveOutside = true;

          var offset = {};
          bmp.on('mousedown', (e) => {
            offset = {
              x: e.stageX - e.target.x,
              y: e.stageY - e.target.y
            };
          })
          
          var confine = (x, y) => {
            bmp.x = Math.min((stage.canvas.width - stage.canvas.height) * .5, 
                    Math.max((stage.canvas.width + stage.canvas.height) * .5 - (bmp.image.width * bmp.scale), x));
            bmp.y = Math.min(0, 
                    Math.max(stage.canvas.height - (bmp.image.height * bmp.scale), y));
          }

          bmp.on('pressmove', (e) => {
            confine(e.stageX - offset.x, e.stageY - offset.y);
          })

          size.addEventListener('input', (e) => {
            var initW = bmp.image.width * bmp.scale;
            var minX = (stage.canvas.width + stage.canvas.height) * .5 - (bmp.image.width * bmp.scale);
            var maxX = (stage.canvas.width - stage.canvas.height) * .5;
            var scaleX = 1 - (bmp.x - minX) / (maxX - minX);
            
            var initH = bmp.image.height * bmp.scale;
            var minY = stage.canvas.height - (bmp.image.height * bmp.scale);
            var maxY = 0;
            var scaleY = 1 - (bmp.y - minY) / (maxY - minY);
            
            bmp.scale = minScale + parseInt(e.target.value) / 100;

            var diffX = bmp.image.width * bmp.scale - initW;
            var diffY = bmp.image.height * bmp.scale - initH;
            
            confine(bmp.x - diffX * scaleX, bmp.y - diffY * scaleY);
            stage.update();
          });

          var colorMatrix = new createjs.ColorMatrix();
          colorMatrix.adjustSaturation(-100);
          colorMatrix.adjustContrast(30);
          var blackAndWhiteFilter = [new createjs.ColorMatrixFilter(colorMatrix)];

          var nimbleFilter = [
            new createjs.ColorMatrixFilter(colorMatrix),
            new createjs.ColorFilter(1, 0.57862, 0, 1)
          ];

          var filters = {
            bw: blackAndWhiteFilter,
            nimble: nimbleFilter
          };

          document.querySelectorAll('input[type="radio"]').forEach((radio) => {
            radio.addEventListener('change', (e) => {
              bmp.filters = e.target.value === 'none' ? [] : filters[e.target.value];
              bmp.cache(0, 0, bmp.image.width, bmp.image.height);
              
              s.graphics.setStrokeStyle(4);
              s.graphics.beginStroke(e.target.value === 'nimble' ? '#282B2E' : '#ff9100');
              s.graphics.drawCircle(0, 0, (stage.canvas.height - 4) * .5);
            })
          })
        }
      </script>
    </div>

    <hr class="my-5">

    <p class="text-muted"><a href="https://nimbleapproach.com/">Nimble Approach</a></p>
  </div>
</body>

</html>